{"version":3,"sources":["webpack:///assets/app.js","webpack:///webpack/bootstrap 5f8204c3f165f81f23e6","webpack:///./app/data/CardTypes.ts","webpack:///./app/DomElement.ts","webpack:///./app/game/Base.ts","webpack:///./app/app.ts","webpack:///./app/Game.ts","webpack:///./app/elements/Card.ts","webpack:///./app/elements/Foundation.ts","webpack:///./app/elements/Pile.ts","webpack:///./app/elements/Stock.ts","webpack:///./app/elements/Waste.ts","webpack:///./app/game/Dealer.ts","webpack:///./app/game/Settings.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","CardSuit","CardValue","CardColor","DomElement","this","className","createNode","textContent","node","document","createElement","getNode","default","Base","game","Game_1","game_1","addEventListener","start","e","body","innerHTML","Dealer_1","Stock_1","Waste_1","Foundation_1","Settings_1","Game","selectedMeta","dragging","stack","_this","boardNode","getElementById","board","stock","shuffleCards","createCards","selectCard","forEach","add","tableau","buildTableau","waste","boardHeader","classList","appendChild","setupNode","foundations","f","tableauEl","render","drawFromStock","hasCard","cards","length","drawCount","unshift","draw","recycle","card","selected","console","log","CardTypes_1","Card","suit","selectCallback","isInPile","isInFoundation","color","Heart","Diamond","Red","Black","setAttribute","String","revealed","isSelectable","updateNode","acceptsSibling","__extends","b","__","constructor","create","DomElement_1","Foundation","_super","apply","arguments","canAddCard","Ace","highestValue","Pile","index","King","topCard","Base_1","Stock","pop","undoDraw","push","undoAdd","shift","Waste","visible","clearVisible","map","Card_1","Pile_1","Dealer","Clove","Spade","randomIndex","tempCard","shuffleIndex","Math","floor","random","added","Settings"],"mappings":"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","file":"assets/app.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"http://localhost:8080/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 13);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar CardSuit;\n(function (CardSuit) {\n    CardSuit[CardSuit[\"Heart\"] = 0] = \"Heart\";\n    CardSuit[CardSuit[\"Diamond\"] = 1] = \"Diamond\";\n    CardSuit[CardSuit[\"Spade\"] = 2] = \"Spade\";\n    CardSuit[CardSuit[\"Clove\"] = 3] = \"Clove\";\n})(CardSuit = exports.CardSuit || (exports.CardSuit = {}));\nvar CardValue;\n(function (CardValue) {\n    CardValue[CardValue[\"Ace\"] = 1] = \"Ace\";\n    CardValue[CardValue[\"Two\"] = 2] = \"Two\";\n    CardValue[CardValue[\"Three\"] = 3] = \"Three\";\n    CardValue[CardValue[\"Four\"] = 4] = \"Four\";\n    CardValue[CardValue[\"Five\"] = 5] = \"Five\";\n    CardValue[CardValue[\"Six\"] = 6] = \"Six\";\n    CardValue[CardValue[\"Seven\"] = 7] = \"Seven\";\n    CardValue[CardValue[\"Eight\"] = 8] = \"Eight\";\n    CardValue[CardValue[\"Nine\"] = 9] = \"Nine\";\n    CardValue[CardValue[\"Ten\"] = 10] = \"Ten\";\n    CardValue[CardValue[\"Jack\"] = 11] = \"Jack\";\n    CardValue[CardValue[\"Queen\"] = 12] = \"Queen\";\n    CardValue[CardValue[\"King\"] = 13] = \"King\";\n})(CardValue = exports.CardValue || (exports.CardValue = {}));\nvar CardColor;\n(function (CardColor) {\n    CardColor[CardColor[\"Red\"] = 0] = \"Red\";\n    CardColor[CardColor[\"Black\"] = 1] = \"Black\";\n})(CardColor = exports.CardColor || (exports.CardColor = {}));\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar DomElement = (function () {\n    function DomElement() {\n        /**\n         *\n         * @type {string}\n         */\n        this.className = '';\n    }\n    /**\n     *\n     * @param {string} textContent\n     */\n    DomElement.prototype.createNode = function (textContent) {\n        if (textContent === void 0) { textContent = ''; }\n        var node = document.createElement('div');\n        node.textContent = textContent;\n        node.className = this.className;\n        this.node = node;\n    };\n    /**\n     *\n     * @returns {HTMLElement}\n     */\n    DomElement.prototype.getNode = function () {\n        return this.node;\n    };\n    return DomElement;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = DomElement;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar Base = (function () {\n    /**\n     * Instantiate this class with the game instance.\n     *\n     * @param {Game} game\n     */\n    function Base(game) {\n        this.game = game;\n    }\n    return Base;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Base;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar Game_1 = __webpack_require__(5);\n/**\n * We wrap the elements creation in a try - catch block.\n * This way we separate out the error handling from the elements itself.\n *\n * Might change this around later but it is convenient for early development.\n */\ntry {\n    var game_1 = new Game_1.default();\n    document.addEventListener('DOMContentLoaded', function () { return game_1.start(); });\n}\ncatch (e) {\n    document.body.innerHTML = \"<h1>ERROR</h1><p>\" + e + \"</p>\";\n}\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar Dealer_1 = __webpack_require__(11);\nvar Stock_1 = __webpack_require__(9);\nvar Waste_1 = __webpack_require__(10);\nvar Foundation_1 = __webpack_require__(7);\nvar Settings_1 = __webpack_require__(12);\nvar Game = (function () {\n    function Game() {\n        /**\n         * Metadata about the currently selected card.\n         *\n         * @type {Object}\n         */\n        this.selectedMeta = {\n            dragging: false,\n            stack: []\n        };\n    }\n    /**\n     * Start the elements.\n     */\n    Game.prototype.start = function () {\n        var _this = this;\n        var boardNode = document.getElementById('board');\n        if (!boardNode) {\n            throw \"Invalid id. Cannot find the mount point for the elements board.\";\n        }\n        /**\n         * Set the DOM Node we will render the elements in\n         *\n         * @type {HTMLElement}\n         */\n        this.board = boardNode;\n        /**\n         * Create the stock and all cards.\n         * Shuffle the cards before adding them to the stock.\n         */\n        this.stock = new Stock_1.default(this);\n        Dealer_1.default.shuffleCards(Dealer_1.default.createCards(this.selectCard)).forEach(function (c) { return _this.stock.add(c); });\n        /**\n         * Distribute cards to 7 piles in the tableau\n         */\n        var tableau = Dealer_1.default.buildTableau(this.stock);\n        // Initialize empty waste\n        this.waste = new Waste_1.default(this);\n        var boardHeader = document.createElement('div');\n        boardHeader.classList.add('board__header');\n        // Create DOM node for the stock and waste\n        boardHeader.appendChild(this.stock.setupNode());\n        boardHeader.appendChild(this.waste.setupNode());\n        // Initialize 4 empty foundations\n        var foundations = [\n            new Foundation_1.default(),\n            new Foundation_1.default(),\n            new Foundation_1.default(),\n            new Foundation_1.default()\n        ];\n        foundations.forEach(function (f) {\n            f.createNode();\n            boardHeader.appendChild(f.getNode());\n        });\n        this.board.appendChild(boardHeader);\n        var tableauEl = document.createElement('div');\n        tableauEl.classList.add('tableau');\n        tableau.forEach(function (p) { return tableauEl.appendChild(p.render()); });\n        this.board.appendChild(tableauEl);\n    };\n    Game.prototype.drawFromStock = function () {\n        var _this = this;\n        if (this.stock.hasCard()) {\n            var cards = [];\n            while (cards.length < Settings_1.default.drawCount) {\n                if (!this.stock.hasCard())\n                    break;\n                cards.unshift(this.stock.draw());\n            }\n            this.waste.add(cards);\n        }\n        else {\n            // If there are no cards a click on the stock will recycle the waste.\n            this.waste.recycle().forEach(function (card) { return _this.stock.add(card); });\n        }\n    };\n    Game.prototype.selectCard = function (card) {\n        this.selected = card;\n        console.log(card);\n    };\n    return Game;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Game;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar CardTypes_1 = __webpack_require__(0);\n/**\n * The main Card class. Contains basic data about each card.\n * Can be one of four suits and have one of thirteen values.\n */\nvar Card = (function () {\n    /**\n     * Create a new Card.\n     *\n     * @param value\n     * @param suit\n     * @param selectCallback\n     */\n    function Card(value, suit, selectCallback) {\n        /**\n         * Is this card currently in a pile?\n         * Set \"from outside\" when card is being moved.\n         *\n         * @type {boolean}\n         */\n        this.isInPile = false;\n        /**\n         * Is this card currently in a foundation?\n         * Set \"from outside\" when card is being moved.\n         *\n         * @type {boolean}\n         */\n        this.isInFoundation = false;\n        this.value = value;\n        this.suit = suit;\n        this.selectCallback = selectCallback;\n    }\n    /**\n     * Get the color value of this card.\n     *\n     * @returns {CardColor}\n     */\n    Card.prototype.color = function () {\n        return (this.suit == CardTypes_1.CardSuit.Heart || this.suit == CardTypes_1.CardSuit.Diamond) ? CardTypes_1.CardColor.Red : CardTypes_1.CardColor.Black;\n    };\n    /**\n     *\n     * @returns {HTMLElement}\n     */\n    Card.prototype.setupNode = function () {\n        var _this = this;\n        var node = document.createElement('div');\n        node.classList.add('card');\n        node.setAttribute('data-suit', String(this.suit));\n        node.setAttribute('data-value', String(this.value));\n        if (this.revealed) {\n            node.classList.add('card--revealed');\n            node.textContent = CardTypes_1.CardValue[this.value] + \" \" + CardTypes_1.CardSuit[this.suit];\n        }\n        else {\n            node.textContent = 'HIDDEN';\n        }\n        node.addEventListener('click', function () {\n            console.log(CardTypes_1.CardValue[_this.value], CardTypes_1.CardSuit[_this.suit]);\n            if (_this.isSelectable()) {\n                console.log('can select');\n                _this.selectCallback(_this);\n            }\n        });\n        return this.node = node;\n    };\n    Card.prototype.isSelectable = function () {\n        return this.revealed === true;\n    };\n    /**\n     *\n     * @returns {HTMLElement}\n     */\n    Card.prototype.updateNode = function () {\n        return this.node;\n    };\n    Card.prototype.acceptsSibling = function (card) {\n        if (this.isInFoundation) {\n            return card.suit === this.suit && card.value === (this.value + 1);\n        }\n        if (this.isInPile) {\n            return card.color() !== this.color() && card.value === (this.value - 1);\n        }\n        return false;\n    };\n    return Card;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Card;\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar DomElement_1 = __webpack_require__(1);\nvar CardTypes_1 = __webpack_require__(0);\n/**\n * A foundation is one of the four piles of cards you aim to fill during the course of the elements.\n * These each consist of a card suit and must contain the cards of that suit in sequential order.\n */\nvar Foundation = (function (_super) {\n    __extends(Foundation, _super);\n    function Foundation() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         *\n         * @type {string}\n         */\n        _this.className = 'foundation';\n        /**\n         * Array containing all the cards of the foundation\n         *\n         * @type {Array}\n         */\n        _this.cards = [];\n        return _this;\n    }\n    /**\n     * Determine if we can add the card to this foundation. If there are no cards\n     * we will accept any Ace, but otherwise it needs to be the same suit as this\n     * foundation contains and be the next sequential card in the series.\n     *\n     * @param card\n     * @returns {boolean}\n     */\n    Foundation.prototype.canAddCard = function (card) {\n        if (this.cards.length == 0 && card.value == CardTypes_1.CardValue.Ace) {\n            return true;\n        }\n        return this.suit == card.suit && (this.highestValue + 1) == card.value;\n    };\n    return Foundation;\n}(DomElement_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Foundation;\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar DomElement_1 = __webpack_require__(1);\nvar CardTypes_1 = __webpack_require__(0);\n/**\n * A pile is one of seven as part of the tableau which is where the main cards are.\n * They start off with each card, except the top most, in the pile being hidden.\n * You will add more cards sequentially in descending order here, with the\n * card's color alternating for every other card.\n */\nvar Pile = (function (_super) {\n    __extends(Pile, _super);\n    /**\n     *\n     * @param index\n     */\n    function Pile(index) {\n        var _this = _super.call(this) || this;\n        /**\n         *\n         * @type {Array}\n         */\n        _this.cards = [];\n        /**\n         *\n         * @type {string}\n         */\n        _this.className = 'pile';\n        _this.index = index;\n        return _this;\n    }\n    /**\n     * Determine if this card can be added to this tableau pile. If it is empty we\n     * will accept a king of any suit, otherwise we accept cards of the opposite\n     * color with the value of one less than the top most card.\n     *\n     * @param card\n     * @returns {boolean}\n     */\n    Pile.prototype.canAddCard = function (card) {\n        if (this.cards.length == 0 && card.value == CardTypes_1.CardValue.King) {\n            return true;\n        }\n        return this.topCard.color() !== card.color() && (this.topCard.value - 1) == card.value;\n    };\n    /**\n     *\n     * @returns {HTMLElement}\n     */\n    Pile.prototype.render = function () {\n        this.createNode();\n        for (var i = 0; i < this.cards.length; i++) {\n            var node = this.cards[i].setupNode();\n            node.setAttribute('data-pile', String(this.index));\n            node.setAttribute('data-index', String(i));\n            this.node.appendChild(node);\n        }\n        return this.node;\n    };\n    return Pile;\n}(DomElement_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Pile;\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Base_1 = __webpack_require__(2);\n/**\n * This is the \"reserve\" of cards. Any cards not\n */\nvar Stock = (function (_super) {\n    __extends(Stock, _super);\n    function Stock() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * All cards in the stock.\n         *\n         * @type {Array}\n         */\n        _this.cards = [];\n        return _this;\n    }\n    /**\n     * determine if the stock has any cards in it.\n     *\n     * @returns {boolean}\n     */\n    Stock.prototype.hasCard = function () {\n        return this.cards.length > 0;\n    };\n    /**\n     * Get a card from the stock.\n     * Used when moving cards from the stock to the waste.\n     *\n     * @returns {Card}\n     */\n    Stock.prototype.draw = function () {\n        var card = this.cards.pop();\n        this.updateNode();\n        return card;\n    };\n    /**\n     * Return a card from the waste to the stock.\n     * Used when undoing the last action that meant pulling a card from the stock.\n     *\n     * @param card\n     */\n    Stock.prototype.undoDraw = function (card) {\n        this.cards.push(card);\n    };\n    /**\n     * Move a card to the stock.\n     * Usually done when recycling the waste.\n     *\n     * @param card\n     */\n    Stock.prototype.add = function (card) {\n        this.cards.unshift(card);\n        this.updateNode();\n    };\n    /**\n     * Get a card back from the stock.\n     * Used when undoing an action that moved a card from the waste to the stock.\n     *\n     * @returns {Card}\n     */\n    Stock.prototype.undoAdd = function () {\n        return this.cards.shift();\n    };\n    Stock.prototype.setupNode = function () {\n        var _this = this;\n        this.node = document.createElement('div');\n        this.node.className = 'stock';\n        this.node.addEventListener('click', function () { return _this.game.drawFromStock(); });\n        return this.updateNode();\n    };\n    Stock.prototype.updateNode = function () {\n        if (this.node) {\n            this.node.textContent = this.cards.length + ' cards';\n        }\n        return this.node;\n    };\n    return Stock;\n}(Base_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Stock;\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Base_1 = __webpack_require__(2);\n/**\n * This is where the \"discarded\" cards go after they are plucked from the Stock.\n * However, the top most cards are visible, and the top most card can be\n * dragged to any foundation or pile where it is allowed to be added.\n */\nvar Waste = (function (_super) {\n    __extends(Waste, _super);\n    function Waste() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * All hidden cards in the waste.\n         */\n        _this.cards = [];\n        /**\n         * All visible cards in the waste.\n         */\n        _this.visible = [];\n        return _this;\n    }\n    /**\n     * Move a card to the stock.\n     * Usually done when recycling the waste.\n     *\n     * @param cards {Card[]}\n     */\n    Waste.prototype.add = function (cards) {\n        // Move currently visible cards to the remaining cards\n        this.clearVisible();\n        // Make new cards visible and add to list of visible cards\n        this.visible = cards.map(function (card) {\n            card.revealed = true;\n            return card;\n        });\n        this.updateNode();\n    };\n    /**\n     * Move any currently visible cards to the main cards array,\n     * while marking the cards as not being revealed.\n     */\n    Waste.prototype.clearVisible = function () {\n        while (this.visible.length) {\n            var card = this.visible.pop();\n            card.revealed = false;\n            this.cards.push(card);\n        }\n    };\n    /**\n     * Get a card back from the stock.\n     * Used when undoing an action that moved a card from the waste to the stock.\n     *\n     * @returns {Card}\n     */\n    Waste.prototype.undoAdd = function () {\n        // TODO: Respect drawn cards. No reason to restore 3 visible cards if there were only two left visible.\n        return this.cards.pop();\n    };\n    /**\n     * Get all cards from the waste and.\n     *\n     * @returns {Card[]}\n     */\n    Waste.prototype.recycle = function () {\n        this.clearVisible();\n        var cards = this.cards;\n        this.cards = [];\n        this.updateNode();\n        return cards;\n    };\n    /**\n     * draw the top-most visible card.\n     *\n     * @returns {Card|null}\n     */\n    Waste.prototype.draw = function () {\n        if (this.visible.length) {\n            var card = this.visible.pop();\n            if (this.visible.length === 0) {\n            }\n            return card;\n        }\n        return null;\n    };\n    /**\n     * Initial setup for this elements DOM node.\n     * Must set 'this.node' as well.\n     *\n     * @returns {HTMLElement}\n     */\n    Waste.prototype.setupNode = function () {\n        this.node = document.createElement('div');\n        this.node.className = 'waste';\n        return this.updateNode();\n    };\n    Waste.prototype.updateNode = function () {\n        if (this.node) {\n            this.node.innerHTML = '';\n            var cards = document.createElement('p');\n            cards.textContent = this.cards.length + ' hidden';\n            this.node.appendChild(cards);\n            var visible = document.createElement('p');\n            visible.textContent = this.visible.length + ' visible';\n            this.node.appendChild(visible);\n        }\n        return this.node;\n    };\n    return Waste;\n}(Base_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Waste;\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar Card_1 = __webpack_require__(6);\nvar CardTypes_1 = __webpack_require__(0);\nvar Pile_1 = __webpack_require__(8);\nvar Dealer = (function () {\n    function Dealer() {\n    }\n    /**\n     * Create a standard deck of cards without Jokers.\n     *\n     * @returns {Card[]}\n     */\n    Dealer.createCards = function (selectCallback) {\n        var cards = [];\n        for (var i = CardTypes_1.CardValue.Ace; i <= CardTypes_1.CardValue.King; i++) {\n            cards.push(new Card_1.default(i, CardTypes_1.CardSuit.Clove, selectCallback));\n            cards.push(new Card_1.default(i, CardTypes_1.CardSuit.Diamond, selectCallback));\n            cards.push(new Card_1.default(i, CardTypes_1.CardSuit.Heart, selectCallback));\n            cards.push(new Card_1.default(i, CardTypes_1.CardSuit.Spade, selectCallback));\n        }\n        return cards;\n    };\n    /**\n     * Shuffle a deck of cards\n     *\n     * @param   {Card[]} cards\n     * @returns {Card[]}\n     */\n    Dealer.shuffleCards = function (cards) {\n        var shuffleIndex = cards.length, randomIndex, tempCard;\n        while (shuffleIndex !== 0) {\n            randomIndex = Math.floor(Math.random() * shuffleIndex--);\n            tempCard = cards[randomIndex];\n            cards[randomIndex] = cards[shuffleIndex];\n            cards[shuffleIndex] = tempCard;\n        }\n        return cards;\n    };\n    /**\n     * Build the tableau consisting of 7 piles\n     *\n     * @param   {Stock} stock\n     * @returns {Pile[]}\n     */\n    Dealer.buildTableau = function (stock) {\n        var tableau = [];\n        for (var i = 0; i < 7; i++) {\n            tableau.push(new Pile_1.default(i));\n        }\n        var added = 0;\n        var card;\n        while (added < 28) {\n            for (var i = 1; i <= tableau.length; i++) {\n                var index = i - 1;\n                if (tableau[index].cards.length < index) {\n                    /**\n                     * If there are fewer cards than should be hidden in the pile\n                     * we simply draw a card and add it to the pile.\n                     */\n                    card = stock.draw();\n                    card.isInPile = true;\n                    tableau[index].cards.push(card);\n                    added++;\n                }\n                else if (tableau[index].cards.length == index) {\n                    /**\n                     * If this is the last card we add to this pile we reveal it\n                     * before adding it to the pile.\n                     */\n                    card = stock.draw();\n                    card.isInPile = true;\n                    card.revealed = true;\n                    tableau[index].cards.push(card);\n                    added++;\n                }\n            }\n        }\n        return tableau;\n    };\n    return Dealer;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Dealer;\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar Settings = (function () {\n    function Settings() {\n    }\n    return Settings;\n}());\n/**\n * Number of cards to draw\n *\n * @type {number}\n */\nSettings.drawCount = 3;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Settings;\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(4);\nmodule.exports = __webpack_require__(3);\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// assets/app.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://localhost:8080/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5f8204c3f165f81f23e6","export enum CardSuit {\n    Heart,\n    Diamond,\n    Spade,\n    Clove\n}\n\nexport enum CardValue {\n    Ace = 1,\n    Two = 2,\n    Three = 3,\n    Four = 4,\n    Five = 5,\n    Six = 6,\n    Seven = 7,\n    Eight = 8,\n    Nine = 9,\n    Ten = 10,\n    Jack = 11,\n    Queen = 12,\n    King = 13\n}\n\nexport enum CardColor {\n    Red,\n    Black\n}\n\n\n// WEBPACK FOOTER //\n// ./app/data/CardTypes.ts","export default class DomElement {\n\n    /**\n     *\n     * @type {HTMLElement}\n     */\n    protected node: HTMLElement;\n\n    /**\n     *\n     * @type {string}\n     */\n    protected className: string = '';\n\n    /**\n     *\n     * @param {string} textContent\n     */\n    public createNode(textContent: string = ''): void {\n        let node = document.createElement('div');\n        node.textContent = textContent;\n        node.className = this.className;\n        this.node = node;\n    }\n\n    /**\n     *\n     * @returns {HTMLElement}\n     */\n    public getNode(): HTMLElement {\n        return this.node;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/DomElement.ts","import Game from \"../Game\";\n\nexport default class Base {\n\n    /**\n     * The DOM node representing the stock.\n     *\n     * @type {HTMLElement}\n     */\n    public node: HTMLElement;\n\n    /**\n     * Store a reference to the game object.\n     *\n     * @type {Array}\n     */\n    protected game: Game;\n\n    /**\n     * Instantiate this class with the game instance.\n     *\n     * @param {Game} game\n     */\n    public constructor(game: Game) {\n        this.game = game;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./app/game/Base.ts","import Game from './Game';\n\n/**\n * We wrap the elements creation in a try - catch block.\n * This way we separate out the error handling from the elements itself.\n *\n * Might change this around later but it is convenient for early development.\n */\ntry {\n\n    const game = new Game();\n    document.addEventListener('DOMContentLoaded', () => game.start());\n\n} catch (e) {\n\n    document.body.innerHTML = `<h1>ERROR</h1><p>${e}</p>`;\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/app.ts","import Dealer from \"./game/Dealer\";\nimport Pile from \"./elements/Pile\";\nimport Stock from \"./elements/Stock\";\nimport Waste from \"./elements/Waste\";\nimport Foundation from \"./elements/Foundation\";\nimport Settings from \"./game/Settings\";\nimport Card from \"./elements/Card\";\n\nexport default class Game {\n\n    /**\n     * The DOM Node for the elements board is the basis of the games representation in the browser.\n     * This is where all cards are rendered and where all elements interaction takes place.\n     */\n    private board: HTMLElement;\n\n    /**\n     * The stock. The source of cards.\n     *\n     * @type {Stock}\n     */\n    private stock: Stock;\n\n    /**\n     * The waste: The drawn cards.\n     *\n     * @type {Waste}\n     */\n    private waste: Waste;\n\n    /**\n     * Any currently selected card, i.e. the card the user is currently dragging.\n     */\n    private selected: Card;\n\n    /**\n     * Metadata about the currently selected card.\n     *\n     * @type {Object}\n     */\n    private selectedMeta: Object = {\n        dragging: false,\n        stack: []\n    };\n\n    /**\n     * Start the elements.\n     */\n    public start() {\n        let boardNode = document.getElementById('board');\n\n        if (!boardNode) {\n            throw \"Invalid id. Cannot find the mount point for the elements board.\";\n        }\n\n        /**\n         * Set the DOM Node we will render the elements in\n         *\n         * @type {HTMLElement}\n         */\n        this.board = boardNode;\n\n        /**\n         * Create the stock and all cards.\n         * Shuffle the cards before adding them to the stock.\n         */\n        this.stock = new Stock(this);\n        Dealer.shuffleCards(Dealer.createCards(this.selectCard)).forEach(c => this.stock.add(c));\n\n        /**\n         * Distribute cards to 7 piles in the tableau\n         */\n        let tableau = Dealer.buildTableau(this.stock);\n\n        // Initialize empty waste\n        this.waste = new Waste(this);\n\n        let boardHeader = document.createElement('div');\n        boardHeader.classList.add('board__header');\n\n        // Create DOM node for the stock and waste\n        boardHeader.appendChild(this.stock.setupNode());\n        boardHeader.appendChild(this.waste.setupNode());\n\n        // Initialize 4 empty foundations\n        let foundations = [\n            new Foundation(),\n            new Foundation(),\n            new Foundation(),\n            new Foundation()\n        ];\n\n        foundations.forEach(f => {\n            f.createNode();\n            boardHeader.appendChild(f.getNode());\n        });\n\n        this.board.appendChild(boardHeader);\n\n        let tableauEl = document.createElement('div');\n        tableauEl.classList.add('tableau');\n        tableau.forEach(p => tableauEl.appendChild(p.render()));\n        this.board.appendChild(tableauEl);\n    }\n\n    public drawFromStock() {\n        if (this.stock.hasCard()) {\n\n            let cards = [];\n            while (cards.length < Settings.drawCount) {\n                if (!this.stock.hasCard()) break;\n                cards.unshift(this.stock.draw());\n            }\n            this.waste.add(cards);\n\n        } else {\n            // If there are no cards a click on the stock will recycle the waste.\n            this.waste.recycle().forEach(card => this.stock.add(card));\n        }\n    }\n\n    private selectCard(card: Card): void {\n        this.selected = card;\n        console.log(card);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Game.ts","import {CardValue, CardSuit, CardColor} from \"../data/CardTypes\";\nimport {GameElement} from \"../data/Interfaces\";\n\n/**\n * The main Card class. Contains basic data about each card.\n * Can be one of four suits and have one of thirteen values.\n */\nexport default class Card implements GameElement {\n\n    public node: HTMLElement;\n\n    /**\n     * The value of the card. Two-Ten, Jack, Queen, King or Ace.\n     *\n     * @type {CardValue}\n     */\n    public value: CardValue;\n\n    /**\n     * The suit of the card. Heart, Diamond, Spade or Clove.\n     *\n     * @type {CardSuit}\n     */\n    public suit: CardSuit;\n\n    /**\n     * The callback to run when this card is selected.\n     *\n     * @type {Function}\n     */\n    private selectCallback: Function;\n\n    /**\n     * Has this card been revealed\n     *\n     * @type {boolean}\n     */\n    public revealed: boolean;\n\n    /**\n     * Is this card currently in a pile?\n     * Set \"from outside\" when card is being moved.\n     *\n     * @type {boolean}\n     */\n    public isInPile: boolean = false;\n\n    /**\n     * Is this card currently in a foundation?\n     * Set \"from outside\" when card is being moved.\n     *\n     * @type {boolean}\n     */\n    public isInFoundation: boolean = false;\n\n    /**\n     * Create a new Card.\n     *\n     * @param value\n     * @param suit\n     * @param selectCallback\n     */\n    constructor(value: CardValue, suit: CardSuit, selectCallback: Function) {\n        this.value = value;\n        this.suit = suit;\n        this.selectCallback = selectCallback;\n    }\n\n    /**\n     * Get the color value of this card.\n     *\n     * @returns {CardColor}\n     */\n    public color(): CardColor {\n        return (this.suit == CardSuit.Heart || this.suit == CardSuit.Diamond) ? CardColor.Red : CardColor.Black;\n    }\n\n    /**\n     *\n     * @returns {HTMLElement}\n     */\n    setupNode(): HTMLElement {\n        let node = document.createElement('div');\n        node.classList.add('card');\n        node.setAttribute('data-suit', String(this.suit));\n        node.setAttribute('data-value', String(this.value));\n\n        if (this.revealed) {\n            node.classList.add('card--revealed');\n            node.textContent = `${CardValue[this.value]} ${CardSuit[this.suit]}`;\n\n        } else {\n            node.textContent = 'HIDDEN';\n        }\n\n        node.addEventListener('click', () => {\n            console.log(CardValue[this.value], CardSuit[this.suit]);\n            if (this.isSelectable()) {\n                console.log('can select');\n                this.selectCallback(this);\n            }\n        });\n\n        return this.node = node;\n    }\n\n    isSelectable(): boolean {\n        return this.revealed === true;\n    }\n\n    /**\n     *\n     * @returns {HTMLElement}\n     */\n    updateNode(): HTMLElement {\n        return this.node;\n    }\n\n    acceptsSibling(card: Card): boolean {\n\n        if (this.isInFoundation) {\n            return card.suit === this.suit && card.value === (this.value + 1);\n        }\n\n        if (this.isInPile) {\n            return card.color() !== this.color() && card.value === (this.value - 1);\n        }\n\n        return false;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/elements/Card.ts","import DomElement from \"../DomElement\";\nimport Card from \"./Card\";\nimport {CardValue, CardSuit} from \"../data/CardTypes\";\n\n/**\n * A foundation is one of the four piles of cards you aim to fill during the course of the elements.\n * These each consist of a card suit and must contain the cards of that suit in sequential order.\n */\nexport default class Foundation extends DomElement {\n\n    /**\n     *\n     * @type {string}\n     */\n    protected className: string = 'foundation';\n\n    /**\n     * Array containing all the cards of the foundation\n     *\n     * @type {Array}\n     */\n    public cards: Card[] = [];\n\n    /**\n     * The suit of the cards currently allowed in this foundation\n     *\n     * @type {number|CardSuit}\n     */\n    public suit: CardSuit;\n\n    /**\n     * The value of the latest added card in this foundation\n     *\n     * @type {number|CardValue}\n     */\n    public highestValue: CardValue;\n\n    /**\n     * Determine if we can add the card to this foundation. If there are no cards\n     * we will accept any Ace, but otherwise it needs to be the same suit as this\n     * foundation contains and be the next sequential card in the series.\n     *\n     * @param card\n     * @returns {boolean}\n     */\n    canAddCard(card: Card): boolean {\n\n        if (this.cards.length == 0 && card.value == CardValue.Ace) {\n            return true\n        }\n\n        return this.suit == card.suit && (this.highestValue + 1) == card.value;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/elements/Foundation.ts","import DomElement from \"../DomElement\";\nimport Card from \"./Card\";\nimport {CardValue} from \"../data/CardTypes\";\n\n/**\n * A pile is one of seven as part of the tableau which is where the main cards are.\n * They start off with each card, except the top most, in the pile being hidden.\n * You will add more cards sequentially in descending order here, with the\n * card's color alternating for every other card.\n */\nexport default class Pile extends DomElement {\n\n    /**\n     *\n     * @type {Array}\n     */\n    public cards: Card[] = [];\n\n    /**\n     * The latest added card in this pile.\n     *\n     * @type {Card}\n     */\n    public topCard: Card;\n\n    /**\n     *\n     */\n    public index: Number;\n\n    /**\n     *\n     * @type {string}\n     */\n    protected className: string = 'pile';\n\n    /**\n     *\n     * @param index\n     */\n    constructor(index: Number) {\n        super();\n\n        this.index = index;\n    }\n\n    /**\n     * Determine if this card can be added to this tableau pile. If it is empty we\n     * will accept a king of any suit, otherwise we accept cards of the opposite\n     * color with the value of one less than the top most card.\n     *\n     * @param card\n     * @returns {boolean}\n     */\n    public canAddCard(card: Card): boolean {\n\n        if (this.cards.length == 0 && card.value == CardValue.King) {\n            return true\n        }\n\n        return this.topCard.color() !== card.color() && (this.topCard.value - 1) == card.value;\n    }\n\n    /**\n     *\n     * @returns {HTMLElement}\n     */\n    public render(): HTMLElement {\n\n        this.createNode();\n\n        for (let i = 0; i < this.cards.length; i++) {\n            let node = this.cards[i].setupNode();\n            node.setAttribute('data-pile', String(this.index));\n            node.setAttribute('data-index', String(i));\n            this.node.appendChild(node);\n        }\n\n        return this.node;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/elements/Pile.ts","import Card from \"./Card\";\nimport Base from \"../game/Base\";\nimport {GameElement} from \"../data/Interfaces\";\n\n/**\n * This is the \"reserve\" of cards. Any cards not\n */\nexport default class Stock extends Base implements GameElement {\n\n    /**\n     * All cards in the stock.\n     *\n     * @type {Array}\n     */\n    private cards: Card[] = [];\n\n    /**\n     * determine if the stock has any cards in it.\n     *\n     * @returns {boolean}\n     */\n    public hasCard(): boolean {\n        return this.cards.length > 0;\n    }\n\n    /**\n     * Get a card from the stock.\n     * Used when moving cards from the stock to the waste.\n     *\n     * @returns {Card}\n     */\n    public draw(): Card {\n        let card = this.cards.pop();\n        this.updateNode();\n        return card;\n    }\n\n    /**\n     * Return a card from the waste to the stock.\n     * Used when undoing the last action that meant pulling a card from the stock.\n     *\n     * @param card\n     */\n    public undoDraw(card: Card): void {\n        this.cards.push(card);\n    }\n\n    /**\n     * Move a card to the stock.\n     * Usually done when recycling the waste.\n     *\n     * @param card\n     */\n    public add(card: Card): void {\n        this.cards.unshift(card);\n        this.updateNode();\n    }\n\n    /**\n     * Get a card back from the stock.\n     * Used when undoing an action that moved a card from the waste to the stock.\n     *\n     * @returns {Card}\n     */\n    public undoAdd(): Card {\n        return this.cards.shift();\n    }\n\n    public setupNode(): HTMLElement {\n        this.node = document.createElement('div');\n\n        this.node.className = 'stock';\n        this.node.addEventListener('click', () => this.game.drawFromStock());\n\n        return this.updateNode();\n    }\n\n    public updateNode(): HTMLElement {\n        if (this.node) {\n            this.node.textContent = this.cards.length + ' cards';\n        }\n\n        return this.node;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/elements/Stock.ts","import Card from \"./Card\";\nimport {GameElement} from \"../data/Interfaces\";\nimport Base from \"../game/Base\";\n\n/**\n * This is where the \"discarded\" cards go after they are plucked from the Stock.\n * However, the top most cards are visible, and the top most card can be\n * dragged to any foundation or pile where it is allowed to be added.\n */\nexport default class Waste extends Base implements GameElement {\n\n    /**\n     * All hidden cards in the waste.\n     */\n    private cards: Card[] = [];\n\n    /**\n     * All visible cards in the waste.\n     */\n    private visible: Card[] = [];\n\n    /**\n     * Move a card to the stock.\n     * Usually done when recycling the waste.\n     *\n     * @param cards {Card[]}\n     */\n    public add(cards: Card[]): void {\n\n        // Move currently visible cards to the remaining cards\n        this.clearVisible();\n\n        // Make new cards visible and add to list of visible cards\n        this.visible = cards.map(card => {\n            card.revealed = true;\n            return card;\n        });\n\n        this.updateNode();\n    }\n\n    /**\n     * Move any currently visible cards to the main cards array,\n     * while marking the cards as not being revealed.\n     */\n    protected clearVisible(): void {\n        while (this.visible.length) {\n            let card = this.visible.pop();\n            card.revealed = false;\n            this.cards.push(card);\n        }\n    }\n\n    /**\n     * Get a card back from the stock.\n     * Used when undoing an action that moved a card from the waste to the stock.\n     *\n     * @returns {Card}\n     */\n    public undoAdd(): Card {\n\n        // TODO: Respect drawn cards. No reason to restore 3 visible cards if there were only two left visible.\n\n        return this.cards.pop();\n    }\n\n    /**\n     * Get all cards from the waste and.\n     *\n     * @returns {Card[]}\n     */\n    public recycle(): Card[] {\n        this.clearVisible();\n\n        let cards = this.cards;\n        this.cards = [];\n\n        this.updateNode();\n\n        return cards;\n    }\n\n    /**\n     * draw the top-most visible card.\n     *\n     * @returns {Card|null}\n     */\n    public draw(): Card {\n        if (this.visible.length) {\n            let card = this.visible.pop();\n\n            if (this.visible.length === 0) {\n                //while\n            }\n\n            return card;\n        }\n\n        return null;\n    }\n\n    /**\n     * Initial setup for this elements DOM node.\n     * Must set 'this.node' as well.\n     *\n     * @returns {HTMLElement}\n     */\n    public setupNode(): HTMLElement {\n        this.node = document.createElement('div');\n        this.node.className = 'waste';\n\n        return this.updateNode();\n    }\n\n    updateNode(): HTMLElement {\n        if (this.node) {\n            this.node.innerHTML = '';\n\n            let cards = document.createElement('p');\n            cards.textContent = this.cards.length + ' hidden';\n            this.node.appendChild(cards);\n\n            let visible = document.createElement('p');\n            visible.textContent = this.visible.length + ' visible';\n            this.node.appendChild(visible);\n        }\n\n        return this.node;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./app/elements/Waste.ts","import Card from \"../elements/Card\";\nimport {CardValue, CardSuit} from \"../data/CardTypes\";\nimport Pile from \"../elements/Pile\";\nimport Stock from \"../elements/Stock\";\n\nexport default class Dealer {\n\n    /**\n     * Create a standard deck of cards without Jokers.\n     *\n     * @returns {Card[]}\n     */\n    static createCards(selectCallback: Function): Card[] {\n        let cards: Card[] = [];\n        for (let i = CardValue.Ace; i <= CardValue.King; i++) {\n            cards.push(new Card(i, CardSuit.Clove, selectCallback));\n            cards.push(new Card(i, CardSuit.Diamond, selectCallback));\n            cards.push(new Card(i, CardSuit.Heart, selectCallback));\n            cards.push(new Card(i, CardSuit.Spade, selectCallback));\n        }\n\n        return cards;\n    }\n\n    /**\n     * Shuffle a deck of cards\n     *\n     * @param   {Card[]} cards\n     * @returns {Card[]}\n     */\n    static shuffleCards(cards: Card[]): Card[] {\n        let shuffleIndex = cards.length, randomIndex, tempCard;\n        while (shuffleIndex !== 0) {\n            randomIndex = Math.floor(Math.random() * shuffleIndex--);\n            tempCard = cards[randomIndex];\n            cards[randomIndex] = cards[shuffleIndex];\n            cards[shuffleIndex] = tempCard;\n        }\n\n        return cards;\n    }\n\n    /**\n     * Build the tableau consisting of 7 piles\n     *\n     * @param   {Stock} stock\n     * @returns {Pile[]}\n     */\n    static buildTableau(stock: Stock): Pile[] {\n        let tableau: Pile[] = [];\n        for (let i = 0; i < 7; i++) {\n            tableau.push(new Pile(i));\n        }\n\n        let added = 0;\n        let card;\n        while (added < 28) {\n\n            for (let i = 1; i <= tableau.length; i++) {\n                let index = i - 1;\n\n\n                if (tableau[index].cards.length < index) {\n                    /**\n                     * If there are fewer cards than should be hidden in the pile\n                     * we simply draw a card and add it to the pile.\n                     */\n                    card = stock.draw();\n                    card.isInPile = true;\n                    tableau[index].cards.push(card);\n                    added++;\n\n                } else if (tableau[index].cards.length == index) {\n                    /**\n                     * If this is the last card we add to this pile we reveal it\n                     * before adding it to the pile.\n                     */\n                    card = stock.draw();\n                    card.isInPile = true;\n                    card.revealed = true;\n                    tableau[index].cards.push(card);\n                    added++;\n                }\n            }\n        }\n\n        return tableau;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/game/Dealer.ts","export default class Settings {\n\n    /**\n     * Number of cards to draw\n     *\n     * @type {number}\n     */\n    static drawCount: Number = 3;\n\n\n}\n\n\n// WEBPACK FOOTER //\n// ./app/game/Settings.ts"],"sourceRoot":""}